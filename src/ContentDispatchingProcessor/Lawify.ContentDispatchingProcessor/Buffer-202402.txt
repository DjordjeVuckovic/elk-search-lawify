{"Timestamp":"2024-02-02T20:07:47.0814286Z","Level":"Error","MessageTemplate":"R-FAULT {InputAddress} {MessageId} {Duration}","RenderedMessage":"R-FAULT rabbitmq://localhost/upload-content \"58a00000-59c4-8c17-5841-08dc242a9f87\" 00:00:00.6857028","Exception":"System.Text.Json.JsonException: The JSON value could not be converted to Lawify.Messaging.Events.Contents.UploadedContent. Path: $.contentType | LineNumber: 3 | BytePositionInLine: 20.\r\n ---> System.InvalidOperationException: Cannot get the value of a token type 'Number' as a string.\r\n   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedString(JsonTokenType tokenType)\r\n   at System.Text.Json.Utf8JsonReader.GetString()\r\n   at System.Text.Json.Serialization.Converters.StringConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.TryRead[TArg](ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo, TArg& arg)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)\r\n   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)\r\n   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)\r\n   at System.Text.Json.JsonSerializer.Deserialize[TValue](JsonElement element, JsonSerializerOptions options)\r\n   at MassTransit.Serialization.SystemTextJsonSerializerContext.TryGetMessage[T](T& message) in /_/src/MassTransit/Serialization/SystemTextJsonSerializerContext.cs:line 50\r\n   at MassTransit.Serialization.BodyConsumeContext.TryGetMessage[T](ConsumeContext`1& message) in /_/src/MassTransit/Serialization/BodyConsumeContext.cs:line 70\r\n   at MassTransit.Middleware.ConsumeContextConverterFactory.Converter`1.TryConvert(ConsumeContext input, ConsumeContext`1& output) in /_/src/MassTransit/Middleware/ConsumeContextConverterFactory.cs:line 26\r\n   at MassTransit.Middleware.OutputPipeFilter`2.MassTransit.IFilter<TInput>.Send(TInput context, IPipe`1 next) in /_/src/MassTransit/Middleware/OutputPipeFilter.cs:line 43\r\n   at MassTransit.Middleware.DynamicFilter`1.OutputFilter`1.Send(TInput context, IPipe`1 next) in /_/src/MassTransit/Middleware/DynamicFilter.cs:line 176\r\n   at MassTransit.Middleware.DynamicFilter`1.Send(TInput context, IPipe`1 next) in /_/src/MassTransit/Middleware/DynamicFilter.cs:line 75\r\n   at MassTransit.Middleware.LastPipe`1.Send(TContext context) in /_/src/MassTransit.Abstractions/Middleware/Middleware/LastPipe.cs:line 30\r\n   at MassTransit.Middleware.ConsumePipe.MassTransit.IPipe<MassTransit.ConsumeContext>.Send(ConsumeContext context) in /_/src/MassTransit/Middleware/ConsumePipe.cs:line 45\r\n   at MassTransit.Middleware.DeserializeFilter.Send(ReceiveContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/DeserializeFilter.cs:line 40\r\n   at MassTransit.Middleware.RescueFilter`2.MassTransit.IFilter<TContext>.Send(TContext context, IPipe`1 next) in /_/src/MassTransit/Middleware/RescueFilter.cs:line 43","Properties":{"InputAddress":"rabbitmq://localhost/upload-content","MessageId":"58a00000-59c4-8c17-5841-08dc242a9f87","Duration":"00:00:00.6857028","SourceContext":"MassTransit.ReceiveTransport","environment":"development","serviceName":"content-api"}}
{"Timestamp":"2024-02-02T20:24:07.1510993Z","Level":"Error","MessageTemplate":"R-FAULT {InputAddress} {MessageId} {MessageType} {ConsumerType}({Duration})","RenderedMessage":"R-FAULT rabbitmq://localhost/upload-content 547f0000-59c4-8c17-e0b2-08dc242cb599 \"Lawify.Messaging.Events.Contents.UploadedContent\" \"Lawify.ContentDispatchingProcessor.MessageBroker.Consumers.UploadContentConsumer\"(00:01:24.2912432)","Exception":"IronSoftware.Exceptions.IronSoftwareNativeException: Error while opening document from bytes: 'Invalid (empty) byte collection when loading document from memory'.\n\nTo learn how to solve this issue please read https://ironpdf.com/troubleshooting/ironpdf-native-exception/ [Issue Code IRONPDF-NATIVE-EXECPTION]\r\n   at IronSoftware.Pdfium.PdfClient`1.RetrieveNativeErrorAndThrow(String local_errorMessage)\r\n   at IronSoftware.Pdfium.PdfClient`1.OpenDocument(Byte[] data, String password, String ownerPassword, ChangeTrackingModes trackChanges)\r\n   at IronSoftware.Pdfium.PdfClient`1.OpenDocument(String path, String password, String ownerPassword, ChangeTrackingModes trackChanges)\r\n   at IronPdf.PdfDocument..ctor(String PdfFilePath, String Password, String OwnerPassword, ChangeTrackingModes TrackChanges)\r\n   at IronPdf.PdfDocument.FromFile(String PdfFilePath, String Password, String OwnerPassword, ChangeTrackingModes TrackChanges)\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.PdfLawExtractor.<>c__DisplayClass2_0.<ExtractContentAsync>b__0() in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\PdfLawExtractor.cs:line 24\r\n   at System.Threading.Tasks.Task`1.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__281_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.PdfLawExtractor.ExtractContentAsync(FileContent file, CancellationToken cancellationToken) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\PdfLawExtractor.cs:line 22\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.LawExtractHandler.Handle(LawForExtract notification, CancellationToken cancellationToken) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\LawExtractHandler.cs:line 17\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Lawify.ContentDispatchingProcessor.ProcessContent.ContentProcessorHandler.Handle(ContentReceived notification, CancellationToken cancellationToken) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ProcessContent\\ContentProcessorHandler.cs:line 44\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Lawify.ContentDispatchingProcessor.MessageBroker.Consumers.UploadContentConsumer.Consume(ConsumeContext`1 context) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\MessageBroker\\Consumers\\UploadContentConsumer.cs:line 17\r\n   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22\r\n   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22\r\n   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48","Properties":{"InputAddress":"rabbitmq://localhost/upload-content","MessageId":"547f0000-59c4-8c17-e0b2-08dc242cb599","MessageType":"Lawify.Messaging.Events.Contents.UploadedContent","ConsumerType":"Lawify.ContentDispatchingProcessor.MessageBroker.Consumers.UploadContentConsumer","Duration":"00:01:24.2912432","SourceContext":"MassTransit.ReceiveTransport","environment":"development","serviceName":"content-api"}}
{"Timestamp":"2024-02-02T20:35:52.7438924Z","Level":"Error","MessageTemplate":"Error getting file: {@Message}","RenderedMessage":"Error getting file: \"MinIO API responded with message=Not found.\"","Properties":{"Message":"MinIO API responded with message=Not found.","SourceContext":"Lawify.ContentDispatchingProcessor.ProcessContent.ContentProcessorHandler","environment":"development","serviceName":"content-api"}}
{"Timestamp":"2024-02-02T20:36:12.8083479Z","Level":"Error","MessageTemplate":"Error getting file: {@Message}","RenderedMessage":"Error getting file: \"MinIO API responded with message=Not found.\"","Properties":{"Message":"MinIO API responded with message=Not found.","SourceContext":"Lawify.ContentDispatchingProcessor.ProcessContent.ContentProcessorHandler","environment":"development","serviceName":"content-api"}}
{"Timestamp":"2024-02-02T20:36:35.9126075Z","Level":"Error","MessageTemplate":"Error extracting pdf law for {FileName}","RenderedMessage":"Error extracting pdf law for \"hit-pdf.pdf\"","Exception":"IronSoftware.Exceptions.IronSoftwareNativeException: Error while opening document from bytes: 'Error while opening document from 337 bytes: Invalid or corrupt pdf format. Please redownload or reacquire your document, check its contents, and try again'.\n\nTo learn how to solve this issue please read https://ironpdf.com/troubleshooting/ironpdf-native-exception/ [Issue Code IRONPDF-NATIVE-EXECPTION]\r\n   at IronSoftware.Pdfium.PdfClient`1.RetrieveNativeErrorAndThrow(String local_errorMessage)\r\n   at IronSoftware.Pdfium.PdfClient`1.OpenDocument(Byte[] data, String password, String ownerPassword, ChangeTrackingModes trackChanges)\r\n   at IronSoftware.Pdfium.PdfClient`1.OpenDocument(String path, String password, String ownerPassword, ChangeTrackingModes trackChanges)\r\n   at IronPdf.PdfDocument..ctor(String PdfFilePath, String Password, String OwnerPassword, ChangeTrackingModes TrackChanges)\r\n   at IronPdf.PdfDocument.FromFile(String PdfFilePath, String Password, String OwnerPassword, ChangeTrackingModes TrackChanges)\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.PdfLawExtractor.<>c__DisplayClass2_0.<ExtractContentAsync>b__0() in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\PdfLawExtractor.cs:line 26\r\n   at System.Threading.Tasks.Task`1.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__281_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.PdfLawExtractor.ExtractContentAsync(FileContent file, CancellationToken cancellationToken) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\PdfLawExtractor.cs:line 24","Properties":{"FileName":"hit-pdf.pdf","SourceContext":"Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.PdfLawExtractor","environment":"development","serviceName":"content-api"}}
{"Timestamp":"2024-02-02T20:36:36.2795806Z","Level":"Error","MessageTemplate":"R-FAULT {InputAddress} {MessageId} {MessageType} {ConsumerType}({Duration})","RenderedMessage":"R-FAULT rabbitmq://localhost/upload-content 547f0000-59c4-8c17-8d39-08dc242e6a25 \"Lawify.Messaging.Events.Contents.UploadedContent\" \"Lawify.ContentDispatchingProcessor.MessageBroker.Consumers.UploadContentConsumer\"(00:00:23.7517563)","Exception":"IronSoftware.Exceptions.IronSoftwareNativeException: Error while opening document from bytes: 'Error while opening document from 337 bytes: Invalid or corrupt pdf format. Please redownload or reacquire your document, check its contents, and try again'.\n\nTo learn how to solve this issue please read https://ironpdf.com/troubleshooting/ironpdf-native-exception/ [Issue Code IRONPDF-NATIVE-EXECPTION]\r\n   at IronSoftware.Pdfium.PdfClient`1.RetrieveNativeErrorAndThrow(String local_errorMessage)\r\n   at IronSoftware.Pdfium.PdfClient`1.OpenDocument(Byte[] data, String password, String ownerPassword, ChangeTrackingModes trackChanges)\r\n   at IronSoftware.Pdfium.PdfClient`1.OpenDocument(String path, String password, String ownerPassword, ChangeTrackingModes trackChanges)\r\n   at IronPdf.PdfDocument..ctor(String PdfFilePath, String Password, String OwnerPassword, ChangeTrackingModes TrackChanges)\r\n   at IronPdf.PdfDocument.FromFile(String PdfFilePath, String Password, String OwnerPassword, ChangeTrackingModes TrackChanges)\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.PdfLawExtractor.<>c__DisplayClass2_0.<ExtractContentAsync>b__0() in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\PdfLawExtractor.cs:line 26\r\n   at System.Threading.Tasks.Task`1.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__281_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.PdfLawExtractor.ExtractContentAsync(FileContent file, CancellationToken cancellationToken) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\PdfLawExtractor.cs:line 24\r\n   at Lawify.ContentDispatchingProcessor.ContentExtractors.Laws.LawExtractHandler.Handle(LawForExtract notification, CancellationToken cancellationToken) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ContentExtractors\\Laws\\LawExtractHandler.cs:line 17\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Lawify.ContentDispatchingProcessor.ProcessContent.ContentProcessorHandler.Handle(ContentReceived notification, CancellationToken cancellationToken) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\ProcessContent\\ContentProcessorHandler.cs:line 44\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Lawify.ContentDispatchingProcessor.MessageBroker.Consumers.UploadContentConsumer.Consume(ConsumeContext`1 context) in C:\\faks\\elk-search-lawify\\src\\ContentDispatchingProcessor\\Lawify.ContentDispatchingProcessor\\MessageBroker\\Consumers\\UploadContentConsumer.cs:line 17\r\n   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22\r\n   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22\r\n   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 48","Properties":{"InputAddress":"rabbitmq://localhost/upload-content","MessageId":"547f0000-59c4-8c17-8d39-08dc242e6a25","MessageType":"Lawify.Messaging.Events.Contents.UploadedContent","ConsumerType":"Lawify.ContentDispatchingProcessor.MessageBroker.Consumers.UploadContentConsumer","Duration":"00:00:23.7517563","SourceContext":"MassTransit.ReceiveTransport","environment":"development","serviceName":"content-api"}}
